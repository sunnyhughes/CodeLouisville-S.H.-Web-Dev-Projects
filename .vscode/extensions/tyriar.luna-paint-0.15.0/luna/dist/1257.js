"use strict";const a56_0x468d=["length","1566621IkMRrE",'" dimensions are equal','Images "',"ceil","selection","color","blendMode"," x ","85731vPsjjI","left","171368zathEz","update","409524DUFIeF","targetImage","push","webpackChunkluna","height",'" and "',"data","1nhLrdw","124980nUEuEQ","tolerance","141632ahDrPV",'Range "',"top","toFixed","subarray",'Invalid dimensions for image "',"394873MlXryE"," must be contained within ","right","width",'" dimensions differ',"slice"],a56_0x565c=function(t,a){return a56_0x468d[t-=439]},a56_0x15ca26=a56_0x565c;!function(t,a){const e=a56_0x565c;for(;;)try{if(238513===-parseInt(e(464))-parseInt(e(468))+-parseInt(e(449))*parseInt(e(440))-parseInt(e(466))-parseInt(e(443))-parseInt(e(441))+parseInt(e(456)))break;t.push(t.shift())}catch(a){t.push(t.shift())}}(a56_0x468d),(self.webpackChunkluna=self[a56_0x15ca26(471)]||[])[a56_0x15ca26(470)]([[1257],{1257:(t,a,e)=>{e.r(a),e.d(a,{run:()=>c});var n=e(7517),r=e(7166),o=e(1003),s=e(7742);const c=async(t,a,e)=>{const c=a56_0x565c;(0,s.ap)(e,"targetImage");const i=e[c(469)][c(439)],u=e[c(469)][c(452)],f=e[c(469)][c(472)],d=e[c(461)],l=4*(e.y*u+e.x),p=i[c(447)](l,l+4)[c(454)](),I=e[c(460)]||(0,o.DI)(u,f),g=e[c(442)]*e[c(442)]*4,x=(0,r.Qf)(e[c(469)],I);if(a[c(467)](.1),e[c(460)]){const t=Math.ceil(I.bottom+(0,o.rY)(I)*(2/8));let r=0;for(let o=I[c(445)];o<I.bottom;o++){for(let t=I[c(465)];t<I[c(451)];t++)r=4*(o*u+t),h(i,r,p,g)&&(0,n.B)(e[c(462)],i,r,d,0);a.update(+((o-I.top)/t)[c(446)](2)+.1)}}else{const t=Math[c(459)](1.25*i[c(455)]);for(let r=0;r<i[c(455)];r+=4)h(i,r,p,g)&&(0,n.B)(e[c(462)],i,r,d,0),r%5e3==0&&a[c(467)](+(r/t)[c(446)](2)+.1)}return a[c(467)](.9),{undoData:x,redoData:(0,r.Qf)(e.targetImage,I),range:I}},i=new Int32Array(5);function h(t,a,e,n){return n>0?(i[0]=e[0]-t[a],i[1]=e[1]-t[a+1],i[2]=e[2]-t[a+2],i[3]=e[3]-t[a+3],i[4]=(1+i[0]*i[0])*e[3]/256+(1+i[1]*i[1])*e[3]/256+(1+i[2]*i[2])*e[3]/256+i[3]*i[3],i[4]<=n):t[a]===e[0]&&t[a+1]===e[1]&&t[a+2]===e[2]&&t[a+3]===e[3]}},7742:(t,a,e)=>{e.d(a,{ap:()=>r,TO:()=>o,zg:()=>s});var n=e(1003);function r(t,a){const e=a56_0x565c,n=t[a];if(n[e(452)]<1||n[e(472)]<1)throw new Error(e(448)+a+'": '+n[e(452)]+e(463)+n.height)}function o(t,a,e){const n=a56_0x565c,r=t[a],o=t[e];if(r.width===o[n(452)]&&r[n(472)]===o.height)throw new Error(n(458)+a+n(473)+e+n(457))}function s(t,a,e){const r=a56_0x565c,o=t[a];if(!(0,n.ur)(e,o))throw new Error(r(444)+a+'" '+(0,n.PW)(o)+r(450)+(0,n.PW)(e))}}}]);