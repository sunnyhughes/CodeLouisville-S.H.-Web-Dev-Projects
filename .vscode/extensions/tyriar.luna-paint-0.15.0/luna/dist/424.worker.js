"use strict";const a9_0x2901=["data","width","number","5322sUJyZI","set",'" dimensions differ',"Unrecognized array type","bAmount",'Images "',"left",'": ',"sourceImage","pow","push",'" and "',"532415iDvtAk","max","min","592502ewyrxy","height","floor","webpackChunkluna","aIndex","38667zYGOPl","toFixed","yStart","buffer","40KTyTLD","1vWYmpa","update","isInteger","sqrt","start"," must be contained within ","subarray","round","top","abs","bottom","bIndex","251303VBCyaZ","yEnd","aAmount","4IetpyR","resultIndex","SharedArrayBuffer","end","611160sOzEJZ","438559aAhFnk","right","destImage","normal","ceil"],a9_0x4b73=function(t,n){return a9_0x2901[t-=416]},a9_0x483287=a9_0x4b73;!function(t,n){const r=a9_0x4b73;for(;;)try{if(305605===-parseInt(r(435))+parseInt(r(445))*-parseInt(r(465))+parseInt(r(464))+parseInt(r(432))+parseInt(r(420))*-parseInt(r(444))+parseInt(r(460))*parseInt(r(440))+parseInt(r(457)))break;t.push(t.shift())}catch(n){t.push(t.shift())}}(a9_0x2901),(self[a9_0x483287(438)]=self.webpackChunkluna||[])[a9_0x483287(430)]([[424],{424:(t,n,r)=>{r.r(n),r.d(n,{run:()=>s});var a=r(517),e=r(166),o=r(742),i=r(979),f=r(888);const s=async(t,n,r)=>{const s=a9_0x4b73;(0,o.ap)(r,s(428)),(0,o.ap)(r,s(467)),(0,o.TO)(r,s(428),"destImage");const h=r[s(428)],u=r[s(467)],c=(0,e.M_)(h.width,h[s(436)],u[s(418)],u.height),d=c.width>=h[s(418)]&&c[s(436)]>=h[s(436)]?f.k:i.g,l={data:new Uint8Array(c[s(418)]*c[s(436)]*4),width:c[s(418)],height:c.height},x={id:-1,yStart:t.start-c[s(453)],yEnd:t[s(463)]-c[s(453)],xStart:-1,xEnd:-1};(x[s(458)]>=0||x[s(442)]<c[s(436)])&&d(h,l,x);let b=0,y=0;const w=new Uint8Array([204,204,204,255]),M=new Uint8Array([255,255,255,255]);let A;for(let n=t[s(449)];n<t[s(463)];n++)for(let t=c[s(426)];t<c.left+c[s(418)];t++)b=4*(n*u[s(418)]+t),y=4*((n-c[s(453)])*c[s(418)]+t-c.left),255===u[s(417)][b+3]?(u[s(417)][b]=l[s(417)][y],u.data[b+1]=l[s(417)][y+1],u[s(417)][b+2]=l.data[y+2],u[s(417)][b+3]=l.data[y+3]):(A=(Math[s(437)]((t-c[s(426)])/10%2)+Math[s(437)]((n-c[s(453)])/10%2))%2<1?w:M,(0,a.B)(s(468),u.data,b,l[s(417)],y,A,0))}},742:(t,n,r)=>{r.d(n,{ap:()=>e,TO:()=>o,zg:()=>i});var a=r(3);function e(t,n){const r=a9_0x4b73,a=t[n];if(a[r(418)]<1||a[r(436)]<1)throw new Error('Invalid dimensions for image "'+n+r(427)+a[r(418)]+" x "+a.height)}function o(t,n,r){const a=a9_0x4b73,e=t[n],o=t[r];if(e[a(418)]===o[a(418)]&&e[a(436)]===o[a(436)])throw new Error(a(425)+n+a(431)+r+'" dimensions are equal')}function i(t,n,r){const e=a9_0x4b73,o=t[n];if(!(0,a.ur)(r,o))throw new Error('Range "'+n+'" '+(0,a.PW)(o)+e(450)+(0,a.PW)(r))}},979:(t,n,r)=>{r.d(n,{g:()=>f});var a=r(371),e=r(525);const o={aIndex:0,bIndex:0,aAmount:0,bAmount:0,resultIndex:0};let i=0;function f(t,n,r,i=(0,e.t)(r)){const f=a9_0x4b73,u=n[f(418)],c=n[f(436)],d=new Float32Array(u);if(u<t[f(418)]){const n=(t[f(418)]-1)/2,r=-(u-1)/2,a=t[f(418)]/u;for(let t=0;t<u;t++)d[t]=n+(t+r)*a}else for(let n=0;n<u;n++)d[n]=n/(u-1)*(t[f(418)]-1);const l=new Float32Array(c);if(c<t[f(436)]){const n=(t[f(436)]-1)/2,r=-(c-1)/2,a=t.height/c;for(let t=0;t<c;t++)l[t]=n+(t+r)*a}else for(let n=0;n<c;n++)l[n]=n/(c-1)*(t[f(436)]-1);let x=0,b=0,y=0,w=0,M=0,A=0,p=0,m=0;const _=new Uint8Array(4),g=new Uint8Array(4),I=r.yEnd-r.yStart;for(let e=r[f(442)];e<r[f(458)];e++){for(y=0;y<u;y++)x=d[y],b=l[e],w=4*(e*u+y),x===~~x?b===~~b?(M=4*(b*t.width+x),(0,a.Yr)(n[f(417)],w,t.data,M)):(p=Math[f(437)](b),m=Math[f(416)](b),o[f(439)]=4*(p*t[f(418)]+x),o[f(456)]=4*(m*t[f(418)]+x),o[f(459)]=(m-b)/(m-p),o.bAmount=1-o.aAmount,o[f(461)]=w,h(t.data,t[f(417)],n[f(417)])):b===~~b?(s(t,x,b,Math[f(437)](x),Math.ceil(x),_),(0,a.Yr)(n[f(417)],w,_,0)):(p=Math.floor(b),m=Math[f(416)](b),A=Math[f(437)](x),s(t,x,p,A,0,_),s(t,x,m,A,0,g),o[f(439)]=0,o[f(456)]=0,o[f(459)]=(m-b)/(m-p),o[f(424)]=1-o.aAmount,o[f(461)]=w,h(_,g,n[f(417)]));i[f(446)](+((e-r[f(442)])/I)[f(441)](2))}}function s(t,n,r,a,e,i){const f=a9_0x4b73;o.aIndex=4*(r*t[f(418)]+a),o[f(456)]=o[f(439)]+4,o[f(424)]=n%1,o.aAmount=1-o.bAmount,o[f(461)]=0,h(t[f(417)],t[f(417)],i)}function h(t,n,r){const a=a9_0x4b73;if(0===n[o.bIndex+3])0===t[o[a(439)]+3]?(r[o[a(461)]]=0,r[o[a(461)]+1]=0,r[o[a(461)]+2]=0,r[o[a(461)]+3]=0):(r[o[a(461)]]=t[o[a(439)]+0],r[o[a(461)]+1]=t[o.aIndex+1],r[o.resultIndex+2]=t[o[a(439)]+2],r[o[a(461)]+3]=t[o[a(439)]+3]*o[a(459)]);else if(0===t[o.aIndex+3])r[o[a(461)]]=n[o[a(456)]+0],r[o[a(461)]+1]=n[o[a(456)]+1],r[o[a(461)]+2]=n[o[a(456)]+2],r[o.resultIndex+3]=n[o.bIndex+3]*o[a(424)];else for(i=0;i<4;i++)r[o[a(461)]+i]=t[o[a(439)]+i]*o[a(459)]+n[o[a(456)]+i]*o.bAmount}},888:(t,n,r)=>{r.d(n,{k:()=>e});var a=r(525);function e(t,n,r,e=(0,a.t)(r)){const o=a9_0x4b73,i=n[o(418)],f=n[o(436)],s=new Uint32Array(i);for(let n=0;n<i;n++)s[n]=(n+.5)/i*t.width;const h=new Uint32Array(f);for(let n=0;n<f;n++)h[n]=Math[o(437)]((n+.5)/f*t.height)*t[o(418)];let u=0,c=0,d=0,l=0;const x=t[o(417)];for(let t=r[o(442)];t<r[o(458)];t++){for(d=4*h[t],c=0;c<i;c++)u=4*(t*i+c),l=d+4*s[c],n[o(417)][u]=x[l],n.data[u+1]=x[l+1],n[o(417)][u+2]=x[l+2],n[o(417)][u+3]=x[l+3];e[o(446)](+(t/f).toFixed(1))}}},371:(t,n,r)=>{function a(t,n=2*t.length){const r=a9_0x4b73;let a;if(t instanceof Float32Array)a=new Float32Array(n);else if(t instanceof Uint8Array)a=new Uint8Array(n);else if(t instanceof Uint16Array)a=new Uint16Array(n);else{if(!(t instanceof Uint32Array))throw new Error(r(423));a=new Uint32Array(n)}return a[r(421)](t),a}function e(t,n,r=!1){const a=a9_0x4b73;return n<Math[a(429)](2,8)?r?new Uint8Array(new SharedArrayBuffer(t)):new Uint8Array(t):n<Math[a(429)](2,16)?r?new Uint16Array(new SharedArrayBuffer(2*t)):new Uint16Array(t):r?new Uint32Array(new SharedArrayBuffer(4*t)):new Uint32Array(t)}function o(t,n,r,a){t[n]=r[a],t[n+1]=r[a+1],t[n+2]=r[a+2],t[n+3]=r[a+3]}r.d(n,{Rs:()=>a,X$:()=>e,Yr:()=>o})},517:(t,n,r)=>{const a=a9_0x483287;r.d(n,{B:()=>s});var e=r(371);const o=new Float32Array(6);let i;const f={normal:(t,n)=>n,darken:(t,n)=>Math[a(434)](t,n),multiply:(t,n)=>t*n,linearBurn:(t,n)=>Math[a(433)](t+n-1,0),lighten:(t,n)=>Math[a(433)](t,n),screen:(t,n)=>1-(1-t)*(1-n),linearDodgeAdd:(t,n)=>Math[a(434)](t+n,1),overlay:(t,n)=>t<.5?2*t*n:1-2*(1-t)*(1-n),softLight:(t,n)=>n<.5?2*t*n+t*t*(1-2*n):Math[a(448)](t)*(2*n-1)+2*t*(1-n),difference:(t,n)=>Math[a(454)](t-n),exclusion:(t,n)=>t+n-2*t*n};function s(t,n,r,s,u,c=n,d=r){const l=a;if("replace"!==t){if(o[0]=s[u+3]/255,0===o[0])return n[r]=c[d],n[r+1]=c[d+1],n[r+2]=c[d+2],void(n[r+3]=c[d+3]);if(o[1]=c[d+3]/255,0===o[1])return n[r]=s[u],n[r+1]=s[u+1],n[r+2]=s[u+2],void(n[r+3]=s[u+3]);i=f[t],o[3]=i(c[d]/255,s[u]/255),o[4]=i(c[d+1]/255,s[u+1]/255),o[5]=i(c[d+2]/255,s[u+2]/255),o[2]=o[0]+o[1]*(1-o[0]),n[r]=Math.round(h(c[d]/255,o[1],s[u]/255,o[0],o[3])/o[2]*255),n[r+1]=Math.round(h(c[d+1]/255,o[1],s[u+1]/255,o[0],o[4])/o[2]*255),n[r+2]=Math[l(452)](h(c[d+2]/255,o[1],s[u+2]/255,o[0],o[5])/o[2]*255),n[r+3]=Math[l(452)](255*o[2])}else(0,e.Yr)(n,r,s,u)}function h(t,n,r,a,e){return(n-n*a)*t+(a-n*a)*r+n*a*e}},166:(t,n,r)=>{r.d(n,{Qf:()=>e,M_:()=>o});var a=r(3);function e(t,n){const r=a9_0x4b73,e=(0,a.Oq)(n),o=(0,a.rY)(n),i=new Uint8Array(e*o*4);let f=0,s=0;for(let a=0;a<o;a++)s=a+n[r(453)],f=4*(s*t.width+n[r(426)]),i[r(421)](t[r(417)][r(451)](f,f+4*e),a*e*4);return i}function o(t,n,r,a,e=!0){const o=a9_0x4b73;if(!e&&n<a&&t<r)return{left:Math[o(452)]((r-t)/2),top:Math.round((a-n)/2),width:t,height:n};const i={left:0,top:0,width:r,height:a};if(n>t){const a=t/n;i[o(426)]=Math[o(452)](r*(.5-a/2)),i.width=Math[o(452)](r*a)}else if(t>n){const r=n/t;i[o(453)]=Math.round(a*(.5-r/2)),i.height=Math[o(452)](a*r)}return i}},3:(t,n,r)=>{function a(t){const n=a9_0x4b73;if(t)return{left:t[n(426)],top:t[n(453)],right:t[n(466)],bottom:t[n(455)]}}function e(t,n){return{left:t,top:n,right:t+1,bottom:n+1}}function o(t,n){return{left:0,top:0,right:t,bottom:n}}function i(t,n,r,a){const e=a9_0x4b73,o=function(t){const n=a9_0x4b73;if(t[n(426)]>t.right){const r=t[n(466)];t.right=t[n(426)],t[n(426)]=r}if(t.top>t[n(455)]){const r=t[n(455)];t[n(455)]=t[n(453)],t.top=r}if(t[n(466)]<t[n(426)]){const r=t[n(426)];t[n(426)]=t.right,t.right=r}if(t[n(455)]<t[n(453)]){const r=t[n(453)];t.top=t[n(455)],t[n(455)]=r}return t}({left:t,top:n,right:r,bottom:a});return o[e(466)]++,o[e(455)]++,o}function f(t,n){const r=a9_0x4b73;return t[r(426)]=Math.min(Math.max(t[r(426)],n[r(426)]),n[r(466)]),t[r(453)]=Math[r(434)](Math[r(433)](t.top,n.top),n[r(455)]),t[r(466)]=Math[r(433)](Math[r(434)](t[r(466)],n[r(466)]),n[r(426)]),t[r(455)]=Math[r(433)](Math.min(t[r(455)],n[r(455)]),n.top),t}function s(t){const n=a9_0x4b73;return t[n(426)]=Math.floor(t[n(426)]),t[n(466)]=Math[n(416)](t[n(466)]),t.top=Math.floor(t[n(453)]),t.bottom=Math[n(416)](t[n(455)]),t}function h(t,n,r){const a=a9_0x4b73;if(function(t){const n=a9_0x4b73;return t.left===t[n(466)]||t[n(453)]===t[n(455)]}(t))return t[a(426)]=n,t[a(466)]=n+1,t[a(453)]=r,void(t[a(455)]=r+1);t[a(426)]=Math[a(434)](t[a(426)],n),t[a(453)]=Math.min(t[a(453)],r),t[a(466)]=Math[a(433)](t[a(466)],n+1),t[a(455)]=Math[a(433)](t.bottom,r+1)}function u(t,n,r){const a=a9_0x4b73;return n>=t[a(426)]&&n<t[a(466)]&&r>=t[a(453)]&&r<t[a(455)]}function c(t,n){const r=a9_0x4b73;return n[r(426)]>=t[r(426)]&&n[r(466)]<=t[r(466)]&&n[r(453)]>=t[r(453)]&&n[r(455)]<=t[r(455)]}function d(t){const n=a9_0x4b73;return"("+t[n(426)]+","+t[n(453)]+")->("+t[n(466)]+","+t[n(455)]+")"}function l(t){const n=a9_0x4b73;return t[n(466)]-t[n(426)]}function x(t){return t.bottom-t.top}r.d(n,{BN:()=>a,Re:()=>e,DI:()=>o,tH:()=>i,l$:()=>f,kq:()=>s,Hv:()=>h,RB:()=>u,ur:()=>c,PW:()=>d,Oq:()=>l,rY:()=>x})}}]);