"use strict";const a21_0xae11=['Range "',"webpackChunkluna","1072086UlVCJS","replace",", image = ","395pqFyOb","blend","buffer","start","subarray","min",'" dimensions differ','": ',"right","putRange","flipX","bottom","pow","abs",'" and "',"update","flipY","putRange must be equal to or less than putImage dimensions, range = ",'" dimensions are equal','Invalid dimensions for image "',"SharedArrayBuffer","max","putImage"," x ","592918GvCIEJ","isInteger","2688NbnlzQ","replacedImage","width","left","top","push","3349SoGFki","1171638puiGcR","size"," must be contained within ","set","280070FeNUJg",'Images "',"round","floor",")->(","height","ceil","271WxCghi","523402UzKfNO","data","targetImage"],a21_0x3890=function(t,n){return a21_0xae11[t-=470]},a21_0x1d5ce9=a21_0x3890;!function(t,n){const r=a21_0x3890;for(;;)try{if(813067===parseInt(r(516))+-parseInt(r(490))+-parseInt(r(519))*parseInt(r(498))+-parseInt(r(511))+parseInt(r(503))+parseInt(r(499))+parseInt(r(492))*parseInt(r(510)))break;t.push(t.shift())}catch(n){t.push(t.shift())}}(a21_0xae11),(self[a21_0x1d5ce9(515)]=self[a21_0x1d5ce9(515)]||[])[a21_0x1d5ce9(497)]([[527],{527:(t,n,r)=>{r.r(n),r.d(n,{run:()=>i});var e=r(517),a=r(3),o=r(742);const i=async(t,n,r)=>{const i=a21_0x3890;if((0,o.ap)(r,"targetImage"),r[i(493)]&&(0,o.ap)(r,"replacedImage"),(0,a.Oq)(r[i(475)])<r[i(488)][i(494)]||(0,a.rY)(r[i(475)])<r[i(488)][i(508)])throw new Error(i(483)+(0,a.Oq)(r.putRange)+i(489)+(0,a.rY)(r[i(475)])+i(518)+r[i(488)][i(494)]+" x "+r[i(488)].height);let f=0,s=0,c=0,u=0;const h=r[i(475)],l=Math[i(487)](h[i(495)],0),p=4*(Math[i(471)](h[i(474)],r[i(513)][i(494)])-l),d=h[i(495)]<0?-h[i(495)]:0,m=h[i(496)]<0?-h.top:0;let g=0,x=0;for(let o=t.start;o<t.end;o++)if(g=h.top+o,x=r[i(482)]?g=h[i(496)]+((0,a.rY)(h)-1)-o:g,!(g<0)){if(g>=r[i(513)][i(508)])return;if(f=4*(o*r[i(488)][i(494)]+d),s=4*(g*r[i(513)][i(494)]+l),c=4*(x*r[i(513)][i(494)]+l),r[i(493)]&&r.replacedImage[i(512)][i(502)](r[i(513)][i(512)][i(470)](s,s+4*r[i(493)][i(494)]),(o-m)*r[i(493)][i(494)]*4),r[i(476)])for(u=0;u<p;u+=4)(0,e.B)(r[i(520)],r[i(513)][i(512)],c+p-4-u,r[i(488)][i(512)],f+u);else if(r[i(520)])for(u=0;u<p;u+=4)(0,e.B)(r[i(520)],r.targetImage.data,c+u,r[i(488)][i(512)],f+u);else r[i(513)].data[i(502)](r[i(488)][i(512)][i(470)](f,f+p),c);n[i(481)](+((o-t[i(522)])/t[i(500)]).toFixed(2))}}},742:(t,n,r)=>{r.d(n,{ap:()=>a,TO:()=>o,zg:()=>i});var e=r(3);function a(t,n){const r=a21_0x3890,e=t[n];if(e[r(494)]<1||e.height<1)throw new Error(r(485)+n+r(473)+e[r(494)]+" x "+e[r(508)])}function o(t,n,r){const e=a21_0x3890,a=t[n],o=t[r];if(a[e(494)]===o.width&&a[e(508)]===o[e(508)])throw new Error(e(504)+n+e(480)+r+e(484))}function i(t,n,r){const a=a21_0x3890,o=t[n];if(!(0,e.ur)(r,o))throw new Error(a(514)+n+'" '+(0,e.PW)(o)+a(501)+(0,e.PW)(r))}},371:(t,n,r)=>{function e(t,n=2*t.length){const r=a21_0x3890;let e;if(t instanceof Float32Array)e=new Float32Array(n);else if(t instanceof Uint8Array)e=new Uint8Array(n);else if(t instanceof Uint16Array)e=new Uint16Array(n);else{if(!(t instanceof Uint32Array))throw new Error("Unrecognized array type");e=new Uint32Array(n)}return e[r(502)](t),e}function a(t,n,r=!1){const e=a21_0x3890;return n<Math[e(478)](2,8)?r?new Uint8Array(new SharedArrayBuffer(t)):new Uint8Array(t):n<Math[e(478)](2,16)?r?new Uint16Array(new SharedArrayBuffer(2*t)):new Uint16Array(t):r?new Uint32Array(new SharedArrayBuffer(4*t)):new Uint32Array(t)}function o(t,n,r,e){t[n]=r[e],t[n+1]=r[e+1],t[n+2]=r[e+2],t[n+3]=r[e+3]}r.d(n,{Rs:()=>e,X$:()=>a,Yr:()=>o})},517:(t,n,r)=>{const e=a21_0x1d5ce9;r.d(n,{B:()=>s});var a=r(371);const o=new Float32Array(6);let i;const f={normal:(t,n)=>n,darken:(t,n)=>Math[e(471)](t,n),multiply:(t,n)=>t*n,linearBurn:(t,n)=>Math[e(487)](t+n-1,0),lighten:(t,n)=>Math[e(487)](t,n),screen:(t,n)=>1-(1-t)*(1-n),linearDodgeAdd:(t,n)=>Math.min(t+n,1),overlay:(t,n)=>t<.5?2*t*n:1-2*(1-t)*(1-n),softLight:(t,n)=>n<.5?2*t*n+t*t*(1-2*n):Math.sqrt(t)*(2*n-1)+2*t*(1-n),difference:(t,n)=>Math[e(479)](t-n),exclusion:(t,n)=>t+n-2*t*n};function s(t,n,r,s,u,h=n,l=r){const p=e;if(t!==p(517)){if(o[0]=s[u+3]/255,0===o[0])return n[r]=h[l],n[r+1]=h[l+1],n[r+2]=h[l+2],void(n[r+3]=h[l+3]);if(o[1]=h[l+3]/255,0===o[1])return n[r]=s[u],n[r+1]=s[u+1],n[r+2]=s[u+2],void(n[r+3]=s[u+3]);i=f[t],o[3]=i(h[l]/255,s[u]/255),o[4]=i(h[l+1]/255,s[u+1]/255),o[5]=i(h[l+2]/255,s[u+2]/255),o[2]=o[0]+o[1]*(1-o[0]),n[r]=Math[p(505)](c(h[l]/255,o[1],s[u]/255,o[0],o[3])/o[2]*255),n[r+1]=Math[p(505)](c(h[l+1]/255,o[1],s[u+1]/255,o[0],o[4])/o[2]*255),n[r+2]=Math.round(c(h[l+2]/255,o[1],s[u+2]/255,o[0],o[5])/o[2]*255),n[r+3]=Math[p(505)](255*o[2])}else(0,a.Yr)(n,r,s,u)}function c(t,n,r,e,a){return(n-n*e)*t+(e-n*e)*r+n*e*a}},3:(t,n,r)=>{function e(t){const n=a21_0x3890;if(t)return{left:t[n(495)],top:t.top,right:t[n(474)],bottom:t.bottom}}function a(t,n){return{left:t,top:n,right:t+1,bottom:n+1}}function o(t,n){return{left:0,top:0,right:t,bottom:n}}function i(t,n,r,e){const a=a21_0x3890,o=function(t){const n=a21_0x3890;if(t[n(495)]>t[n(474)]){const r=t[n(474)];t.right=t[n(495)],t[n(495)]=r}if(t.top>t[n(477)]){const r=t[n(477)];t[n(477)]=t[n(496)],t[n(496)]=r}if(t[n(474)]<t[n(495)]){const r=t[n(495)];t[n(495)]=t[n(474)],t[n(474)]=r}if(t[n(477)]<t[n(496)]){const r=t.top;t[n(496)]=t.bottom,t[n(477)]=r}return t}({left:t,top:n,right:r,bottom:e});return o[a(474)]++,o.bottom++,o}function f(t,n){const r=a21_0x3890;return t.left=Math[r(471)](Math[r(487)](t[r(495)],n.left),n.right),t.top=Math[r(471)](Math.max(t[r(496)],n.top),n[r(477)]),t[r(474)]=Math.max(Math.min(t[r(474)],n.right),n[r(495)]),t[r(477)]=Math.max(Math.min(t.bottom,n[r(477)]),n.top),t}function s(t){const n=a21_0x3890;return t[n(495)]=Math[n(506)](t[n(495)]),t.right=Math[n(509)](t[n(474)]),t.top=Math[n(506)](t[n(496)]),t[n(477)]=Math.ceil(t[n(477)]),t}function c(t,n,r){const e=a21_0x3890;if(function(t){const n=a21_0x3890;return t[n(495)]===t[n(474)]||t[n(496)]===t.bottom}(t))return t[e(495)]=n,t[e(474)]=n+1,t[e(496)]=r,void(t[e(477)]=r+1);t[e(495)]=Math.min(t[e(495)],n),t[e(496)]=Math[e(471)](t[e(496)],r),t[e(474)]=Math[e(487)](t[e(474)],n+1),t[e(477)]=Math[e(487)](t.bottom,r+1)}function u(t,n,r){const e=a21_0x3890;return n>=t.left&&n<t[e(474)]&&r>=t[e(496)]&&r<t[e(477)]}function h(t,n){const r=a21_0x3890;return n[r(495)]>=t[r(495)]&&n.right<=t[r(474)]&&n[r(496)]>=t[r(496)]&&n.bottom<=t.bottom}function l(t){const n=a21_0x3890;return"("+t[n(495)]+","+t[n(496)]+n(507)+t[n(474)]+","+t.bottom+")"}function p(t){return t[a21_0x3890(474)]-t.left}function d(t){const n=a21_0x3890;return t[n(477)]-t[n(496)]}r.d(n,{BN:()=>e,Re:()=>a,DI:()=>o,tH:()=>i,l$:()=>f,kq:()=>s,Hv:()=>c,RB:()=>u,ur:()=>h,PW:()=>l,Oq:()=>p,rY:()=>d})}}]);